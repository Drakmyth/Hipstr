<Page x:Class="Hipstr.Client.Views.MainPage.MainPageView"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	  xmlns:converters="using:Hipstr.Client.Converters"
	  xmlns:models="using:Hipstr.Core.Models"
	  mc:Ignorable="d">

	<Page.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="/Styles/Colors.xaml"/>
			</ResourceDictionary.MergedDictionaries>
			<Style TargetType="RadioButton">
				<Setter Property="Template">
					<Setter.Value>
						<ControlTemplate>
							<ContentPresenter Margin="15"/>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<converters:BooleanToVisibilityConverter x:Key="BoolToVis"/>
		</ResourceDictionary>
	</Page.Resources>

	<Grid Background="{StaticResource HipChatBackground}"
		  d:DataContext="{d:DesignData Source=/SampleData/MainPageViewModelSampleData.xaml}">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>
		<RelativePanel Grid.Row="0">
			<Button Name="MenuButton"
					Width="{x:Bind MenuSplitView.CompactPaneLength}"
					Padding="0 10"
					Click="HamburgerButton_Click"
					Background="{StaticResource HipChatControl}">
				<StackPanel>
					<Rectangle Width="15" Height="2" Margin="2" Fill="White"/>
					<Rectangle Width="15" Height="2" Margin="2" Fill="White"/>
					<Rectangle Width="15" Height="2" Margin="2" Fill="White"/>
				</StackPanel>
			</Button>
			<TextBlock RelativePanel.RightOf="MenuButton"
					   RelativePanel.AlignVerticalCenterWith="MenuButton"
					   Margin="10 0 0 0"
					   FontWeight="Bold"
					   Foreground="White"
					   Text="{x:Bind ViewModel.Title}"/>
			<ComboBox RelativePanel.AlignRightWithPanel="True"
					  RelativePanel.AlignVerticalCenterWith="MenuButton"
					  Margin="0 0 5 0"
					  BorderThickness="0"
					  Background="Transparent"
					  Foreground="White"
					  RequestedTheme="Dark"
					  Visibility="{x:Bind ViewModel.ShowFilters, Converter={StaticResource BoolToVis}}"
					  ItemsSource="{x:Bind ViewModel.Filters}">
				<ComboBox.ItemTemplate>
					<DataTemplate x:DataType="models:FilterItem">
						<TextBlock Text="{x:Bind DisplayName}"
								   Foreground="White"/>
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>
		</RelativePanel>
		<SplitView Name="MenuSplitView"
				   Grid.Row="1"
				   DisplayMode="Overlay"
				   IsPaneOpen="False"
				   OpenPaneLength="{x:Bind TeamsButton.Width}"
				   PaneBackground="{StaticResource HipChatControl}">
			<SplitView.Pane>
				<StackPanel>
					<RadioButton Click="RadioButton_Click">
						<StackPanel Orientation="Horizontal">
							<SymbolIcon Symbol="Clock" Foreground="White"/>
							<TextBlock Text="Recent" Margin="15 0 0 0" Foreground="White"/>
						</StackPanel>
					</RadioButton>
					<Rectangle Height="1" Fill="Black"/>
					<RadioButton Name="TeamsButton"
								 Command="{x:Bind ViewModel.NavigateToTeamsViewCommand}"
								 Click="RadioButton_Click">
						<StackPanel Orientation="Horizontal">
							<SymbolIcon Symbol="Globe" Foreground="White"/>
							<TextBlock Text="Teams" Margin="15 0 0 0" Foreground="White"/>
						</StackPanel>
					</RadioButton>
					<RadioButton Command="{x:Bind ViewModel.NavigateToRoomsViewCommand}"
								 Click="RadioButton_Click">
						<StackPanel Orientation="Horizontal">
							<SymbolIcon Symbol="Message" Foreground="White"/>
							<TextBlock Text="Rooms" Margin="15 0 0 0" Foreground="White"/>
						</StackPanel>
					</RadioButton>
					<RadioButton Command="{x:Bind ViewModel.NavigateToUsersViewCommand}"
								 Click="RadioButton_Click">
						<StackPanel Orientation="Horizontal">
							<SymbolIcon Symbol="People" Foreground="White"/>
							<TextBlock Text="Users" Margin="15 0 0 0" Foreground="White"/>
						</StackPanel>
					</RadioButton>
					<Rectangle Height="1" Fill="Black"/>
					<RadioButton Click="RadioButton_Click">
						<StackPanel Orientation="Horizontal">
							<SymbolIcon Symbol="Setting" Foreground="White"/>
							<TextBlock Text="Settings" Margin="15 0 0 0" Foreground="White"/>
						</StackPanel>
					</RadioButton>
				</StackPanel>
			</SplitView.Pane>
		</SplitView>
	</Grid>
</Page>



